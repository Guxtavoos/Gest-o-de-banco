-- Criação do esquema USR_CRM (caso não exista)
CREATE USER USR_CRM IDENTIFIED BY senha_default;
GRANT CONNECT, RESOURCE TO USR_CRM;

-- Usar o esquema USR_CRM
ALTER SESSION SET CURRENT_SCHEMA = USR_CRM;

-- Criação da tabela CLIENTES
CREATE TABLE CLIENTES (
    CLIENTE_ID NUMBER NOT NULL,
    NOME VARCHAR2(100) NOT NULL,
    EMAIL VARCHAR2(100),
    TELEFONE VARCHAR2(15),
    DATA_CADASTRO DATE,
    CONSTRAINT PK_CLIENTES PRIMARY KEY (CLIENTE_ID)
);

-- Criação da tabela CAMPANHAS
CREATE TABLE CAMPANHAS (
    CAMPANHA_ID NUMBER NOT NULL,
    NOME VARCHAR2(100) NOT NULL,
    DATA_INICIO DATE,
    DATA_FIM DATE,
    ORCAMENTO NUMBER(10, 2),
    CONSTRAINT PK_CAMPANHAS PRIMARY KEY (CAMPANHA_ID)
);

-- Criação da tabela INTERACOES
CREATE TABLE INTERACOES (
    INTERACAO_ID NUMBER NOT NULL,
    CLIENTE_ID NUMBER NOT NULL,
    CAMPANHA_ID NUMBER NOT NULL,
    DATA_INTERACAO DATE,
    TIPO VARCHAR2(50),
    METRICA VARCHAR2(100),
    VALOR NUMBER,
    CONSTRAINT PK_INTERACOES PRIMARY KEY (INTERACAO_ID),
    CONSTRAINT FK_INTERACOES_CLIENTE FOREIGN KEY (CLIENTE_ID) REFERENCES CLIENTES (CLIENTE_ID),
    CONSTRAINT FK_INTERACOES_CAMPANHA FOREIGN KEY (CAMPANHA_ID) REFERENCES CAMPANHAS (CAMPANHA_ID)
);

-- Índices adicionais (caso necessário)
CREATE INDEX IDX_INTERACOES_CLIENTE ON INTERACOES (CLIENTE_ID);
CREATE INDEX IDX_INTERACOES_CAMPANHA ON INTERACOES (CAMPANHA_ID);
